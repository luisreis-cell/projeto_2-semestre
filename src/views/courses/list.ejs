<!DOCTYPE html>
<html>
<head>
    <title>Lista de Cursos</title>
</head>
<body>
    <h1>Lista de Cursos</h1>
    
    <a href="/courses/create">Adicionar Novo Curso</a> 
    
    <table border="1" style="width: 80%; margin-top: 20px;">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Descrição</th>
                <th>Duração</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            <% 
            // ----------------------------------------------------
            // LAÇO DE REPETIÇÃO EJS para percorrer a lista 'courses'
            // ----------------------------------------------------
            if (courses && courses.length > 0) {
                courses.forEach(course => { 
            %>
                    <tr>
                        <td><%= course.name %></td>
                        <td><%= course.description %></td>
                        <td><%= course.duration %> Horas</td> 
                        
                        <td>
                            <a href="/courses/edit/<%= course.id %>">Editar</a> |
                            <form method="POST" action="/courses/delete/<%= course.id %>?_method=DELETE" style="display:inline;">
                                <button type="submit" onclick="return confirm('Tem certeza que deseja excluir este curso?');">Excluir</button>
                            </form>
                        </td>
                    </tr>
            <% 
                }); 
            } else { 
            %>
                <tr>
                    <td colspan="4">Nenhum curso encontrado.</td>
                </tr>
            <% 
            }
            %>
        </tbody>
    </table>
</body>
</html>